<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0-beta1/jquery.min.js"></script>

	<body>
		<h1>H5 file upload demo</h1>
		<input type="file" id="myfile" value="" name="file" accept="image/jpeg,image/png,image/gif,image/bmp" multiple="multiple" />
		<button id="uploader">Upload</button>

		<script type="text/javascript">
			var uploader = document.getElementById('uploader');
			uploader.addEventListener("click", function(e) {
				var formData = new FormData();
				formData.append("file", document.getElementById("myfile"));
				$.ajax({
					url: 'ulAvatar.action',
					type: 'POST',
					data: formData,
					async: false,
					cache: false,
					contentType: 'application/octet-stream', // 告诉jQuery不要去设置Content-Type请求头
					processData: false, // 告诉jQuery不要去处理发送的数据
					success: function(returndata) {
						alert(returndata);
					},
					error: function(returndata) {
						alert(returndata);
					}
				});
			}, false);
		</script>
	</body>

</html>